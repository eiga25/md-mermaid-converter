# MD Mermaid è½¬æ¢å™¨

[English](README.md) | [ä¸­æ–‡](README_zh.md)

![Version](https://img.shields.io/badge/version-0.1.0-blue)
![Python](https://img.shields.io/badge/python-3.10%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)

ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºå°† Markdown æ–‡ä»¶ä¸­çš„ Mermaid å›¾è¡¨æ¸²æŸ“ä¸º PNG/SVG å›¾ç‰‡ï¼Œå¹¶æ›¿æ¢ä»£ç å—ä¸ºå›¾ç‰‡é“¾æ¥ï¼Œæä¾› CLI å’Œ GUI åŒç•Œé¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ å°† Mermaid ä»£ç å—æ¸²æŸ“ä¸º PNG/SVG å›¾ç‰‡
- ğŸ–¥ï¸ å‘½ä»¤è¡Œå’Œå›¾å½¢ç•Œé¢åŒæ¨¡å¼
- ğŸŒ å›¾å½¢ç•Œé¢æ”¯æŒä¸­è‹±åŒè¯­
- ğŸ“ çµæ´»çš„è¾“å‡ºæ–¹å¼ï¼šå•æ–‡ä»¶æˆ–é›†ä¸­å­˜å‚¨
- ğŸ”„ æ™ºèƒ½ç¼“å­˜ï¼šåŸºäºå†…å®¹å“ˆå¸Œï¼Œä»…é‡æ–°æ¸²æŸ“å˜æ›´çš„å›¾è¡¨
- ğŸ’¾ ä¸‰ç§æ¸²æŸ“æ¨¡å¼ï¼š
  - **å¯¼å‡ºæ¨¡å¼**ï¼šä»…ç”Ÿæˆå›¾ç‰‡ï¼Œä¸ä¿®æ”¹ Markdown
  - **æ›¿æ¢æ¨¡å¼**ï¼šç”¨å›¾ç‰‡é“¾æ¥æ›¿æ¢ Mermaid ä»£ç å—
  - **ä¿ç•™æ¨¡å¼**ï¼šä¿ç•™æºä»£ç ï¼Œåœ¨åé¢è¿½åŠ å›¾ç‰‡é“¾æ¥
- ğŸ›¡ï¸ æ”¯æŒè‡ªåŠ¨å¤‡ä»½ï¼Œä¿æŠ¤åŸå§‹æ–‡ä»¶
- ğŸ“‹ é…ç½®ç®¡ç†ï¼Œä¿å­˜å¸¸ç”¨è®¾ç½®

## ç³»ç»Ÿè¦æ±‚

å®‰è£… Mermaid CLIï¼š

```bash
npm install -g @mermaid-js/mermaid-cli
```

## å¿«é€Ÿå¼€å§‹

### å›¾å½¢ç•Œé¢

```bash
python converter_gui.py
```

å›¾å½¢ç•Œé¢æä¾›ï¼š
- é…ç½®ç®¡ç†ï¼ˆä¿å­˜/åŠ è½½/åˆ é™¤é…ç½®ï¼‰
- å¯è§†åŒ–è·¯å¾„é€‰æ‹©ï¼ˆæ–‡ä»¶å¤¹æˆ–å¤šæ–‡ä»¶ï¼‰
- å®æ—¶è¾“å‡ºæ—¥å¿—
- è¯•è¿è¡Œæ¨¡å¼
- è¯­è¨€åˆ‡æ¢ï¼ˆä¸­æ–‡/Englishï¼‰

### å‘½ä»¤è¡Œç•Œé¢

**åŸºç¡€ç”¨æ³•**ï¼ˆè¿½åŠ å›¾ç‰‡ï¼Œä¿ç•™æºç ï¼‰ï¼š
```bash
python convert_mermaid.py -i document.md --render --keep-source
```

**æ›¿æ¢ä»£ç å—**ä¸ºå›¾ç‰‡ï¼š
```bash
python convert_mermaid.py -i document.md --render
```

**ä»…å¯¼å‡º**ï¼ˆä¸ä¿®æ”¹ Markdownï¼‰ï¼š
```bash
python convert_mermaid.py -i docs --recursive --export --format svg
```

**é€’å½’å¤„ç†**ï¼Œä½¿ç”¨å•æ–‡ä»¶å›¾ç‰‡ç›®å½•ï¼š
```bash
python convert_mermaid.py -i docs --recursive --render --keep-source --images-dir per-file
```

## è¾“å‡ºé€‰é¡¹

### é›†ä¸­å­˜å‚¨
ä½¿ç”¨ `--out-dir` å°†æ‰€æœ‰å›¾ç‰‡æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š
```bash
python convert_mermaid.py -i docs --out-dir images/mermaid
```

### å•æ–‡ä»¶å­˜å‚¨
ä½¿ç”¨ `--images-dir` ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºå›¾ç‰‡æ–‡ä»¶å¤¹ï¼š
- `--images-dir per-file`ï¼šåœ¨æ¯ä¸ª Markdown æ—åˆ›å»º `[æ–‡ä»¶å]_images` æ–‡ä»¶å¤¹
- `--images-dir .`ï¼šä¿å­˜åœ¨åŒä¸€ç›®å½•
- `--images-dir images`ï¼šåœ¨æ¯ä¸ªæ–‡ä»¶æ—åˆ›å»º `images` å­æ–‡ä»¶å¤¹

## å‘½ä»¤è¡Œé€‰é¡¹

```
-i, --input PATH          è¾“å…¥ Markdown æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ˆå¿…éœ€ï¼‰
-r, --recursive           é€’å½’å¤„ç†å­æ–‡ä»¶å¤¹
-o, --out-dir PATH        é›†ä¸­è¾“å‡ºç›®å½•
--images-dir DIR          å•æ–‡ä»¶å›¾ç‰‡ç›®å½•ï¼ˆç›¸å¯¹äºæ¯ä¸ª MD æ–‡ä»¶ï¼‰
-f, --format FORMAT       è¾“å‡ºæ ¼å¼ï¼špngï¼ˆé»˜è®¤ï¼‰æˆ– svg
--render                  æ›´æ–° Markdown å¹¶æ·»åŠ å›¾ç‰‡é“¾æ¥
--export                  ä»…å¯¼å‡ºå›¾ç‰‡ï¼Œä¸ä¿®æ”¹ Markdown
--keep-source             æ¸²æŸ“æ—¶ä¿ç•™ Mermaid æºç ï¼ˆè¿½åŠ æ¨¡å¼ï¼‰
--backup                  ä¿®æ”¹æ–‡ä»¶å‰åˆ›å»ºæ—¶é—´æˆ³å¤‡ä»½
--force                   å¼ºåˆ¶é‡æ–°æ¸²æŸ“å·²å­˜åœ¨çš„å›¾ç‰‡
--dry-run                 æ˜¾ç¤ºè®¡åˆ’æ“ä½œä½†ä¸æ‰§è¡Œ
```

## é¡¹ç›®ç»“æ„

```
md-mermaid-converter/
â”œâ”€â”€ convert_mermaid.py   # CLI å®ç°
â”œâ”€â”€ converter_gui.py     # GUI å®ç°
â”œâ”€â”€ profiles.json        # ä¿å­˜çš„ GUI é…ç½®
â”œâ”€â”€ i18n.json           # å›½é™…åŒ–å­—ç¬¦ä¸²
â”œâ”€â”€ settings.json       # ç”¨æˆ·åå¥½è®¾ç½®ï¼ˆè¯­è¨€ï¼‰
â””â”€â”€ examples/           # ç¤ºä¾‹æ–‡ä»¶å’Œæ¼”ç¤ºæ–‡ä»¶å¤¹
    â”œâ”€â”€ test_diagrams.md
    â””â”€â”€ demo_tree/
```

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ–‡æ¡£é¡¹ç›®
```bash
# å¤„ç†æ‰€æœ‰æ–‡æ¡£ï¼Œä¿ç•™æºç ï¼Œä½¿ç”¨å•æ–‡ä»¶å›¾ç‰‡æ–‡ä»¶å¤¹
python convert_mermaid.py -i docs --recursive --render --keep-source --images-dir per-file --backup
```

### ç¤ºä¾‹ 2ï¼šå¯¼å‡ºä¾›å¤–éƒ¨ä½¿ç”¨
```bash
# å°†æ‰€æœ‰å›¾è¡¨å¯¼å‡ºä¸º SVG åˆ°é›†ä¸­æ–‡ä»¶å¤¹
python convert_mermaid.py -i notes --recursive --export --format svg --out-dir output/diagrams
```

### ç¤ºä¾‹ 3ï¼šæ¸…ç†æ–‡æ¡£
```bash
# ç”¨å›¾ç‰‡æ›¿æ¢æ‰€æœ‰ Mermaid å—ï¼ˆæ›´æ¸…æ™°çš„æ–‡æ¡£ï¼‰
python convert_mermaid.py -i README.md --render --format png --backup
```

## GUI é…ç½®

é¡¹ç›®åŒ…å«ä¸¤ä¸ªé¢„é…ç½®ï¼š

- **default**ï¼šå•æ–‡ä»¶å¤„ç†ï¼Œå†…è”å›¾ç‰‡
- **demo**ï¼šé€’å½’å¤„ç† demo_tree æ–‡ä»¶å¤¹

ä½ å¯ä»¥åœ¨ GUI ä¸­ä¿å­˜è‡ªå·±çš„é…ç½®ä»¥ä¾¿å¿«é€Ÿé‡ç”¨ã€‚

## æ•…éšœæ’é™¤

**Windows ä¸Šæ‰¾ä¸åˆ° mmdcï¼š**
- ç¡®ä¿ `%APPDATA%\npm` åœ¨ä½ çš„ PATH ä¸­
- æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š`MERMAID_CLI=C:\path\to\mmdc.cmd`

**å›¾è¡¨æ¸²æŸ“å¤±è´¥ï¼š**
- æ£€æŸ¥é”™è¯¯æ—¥å¿—ä¸­çš„ Mermaid è¯­æ³•
- åœ¨ [Mermaid Live Editor](https://mermaid.live) ä¸Šæµ‹è¯•å›¾è¡¨
- æ›´æ–° mermaid-cliï¼š`npm update -g @mermaid-js/mermaid-cli`

**å›¾ç‰‡æœªæ›´æ–°ï¼š**
- ä½¿ç”¨ `--force` æ ‡å¿—ç»•è¿‡ç¼“å­˜å¹¶é‡æ–°æ¸²æŸ“

## æŠ€æœ¯äº®ç‚¹

- âœ… å…¨ä»£ç åº“ç±»å‹æç¤º
- âœ… å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆGoogle é£æ ¼ï¼‰
- âœ… æ™ºèƒ½é”™è¯¯å¤„ç†ï¼Œä½¿ç”¨ç‰¹å®šå¼‚å¸¸
- âœ… è·¨å¹³å°è·¯å¾„å¤„ç†
- âœ… åŸºäºå†…å®¹çš„ç¼“å­˜ï¼ˆSHA-1 å“ˆå¸Œï¼‰
- âœ… æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£æ¸…æ™°åˆ†ç¦»

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£æŒ‡å—ã€‚

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## æ›´æ–°æ—¥å¿—

### v0.1.0 (2025-10-21)
- åˆå§‹å‘å¸ƒ
- CLI å’Œ GUI ç•Œé¢
- ä¸‰ç§æ¸²æŸ“æ¨¡å¼ï¼ˆå¯¼å‡ºã€æ›¿æ¢ã€ä¿ç•™æºç ï¼‰
- åŸºäºå†…å®¹å“ˆå¸Œçš„æ™ºèƒ½ç¼“å­˜
- åŒè¯­æ”¯æŒï¼ˆä¸­æ–‡/Englishï¼‰
- é…ç½®ç®¡ç†
